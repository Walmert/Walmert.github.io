"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69826],{503248:function(e,n,t){t.r(n),t.d(n,{a:function(){return i},add:function(){return o},appleCareLogo:function(){return m},heading:function(){return d},noSelection:function(){return r},pickOnly:function(){return a},selected:function(){return c},shortTextnoSelection:function(){return s},subheading:function(){return u}});var l=t(985115);const a=()=>"(Pick up only)",r=e=>l.Ys(e.noSelectionText,{protection:"I don't need protection at this time",help:"I don't need help",acc:"I don't need installation",other:"I don't need"}),o=()=>"Add",i=()=>"a",c=()=>"selected,",s=e=>l.Ys(e.noSelectionText,{protection:"No plan",help:"No help",other:"No"}),d=()=>"Add a protection plan",u=()=>"(Only one option can be selected at a time)",m=()=>"AppleCare Logo"},217875:function(e,n,t){t.r(n),t.d(n,{ProtectionPlanCard:function(){return b},getHeading:function(){return g},getLinkExtras:function(){return x},getNoSelectionRadioLabel:function(){return h},getServiceAriaLabel:function(){return v},showNotAvailablePanel:function(){return S}});var l=t(390239),a=t(589371),r=t(978160),o=t(916686),i=t(575115),c=t(890288),s=t(227297),d=t(803528),u=t(489621),m=t.n(u),p=t(156055),y=t(503248),f=t(466690);const g=e=>{let{groups:n}=e;const t=null===n||void 0===n?void 0:n.length;return(0,l.jsx)("div",{children:t>1?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Heading,{size:"small",as:"h2",UNSAFE_className:"f4",children:"".concat((0,i.m)(y,"heading"))}),(0,l.jsx)("p",{className:"ma0 f6 o-70 mr2 lh-title mb3",children:"".concat((0,i.m)(y,"subheading"))})]}):null})},h=(e,n)=>{if(e===f.Fn)return(0,i.m)(y,"noSelection",{noSelectionText:"help"});if(e===f.xq){const e=(0,i.m)(y,"noSelection",{noSelectionText:"acc"});return"productPage"===n?e:"".concat(e," ").concat((0,i.m)(y,"pickOnly"))}return(0,i.m)(y,"noSelection",{noSelectionText:"protection"})},x=e=>{let{serviceType:n,groupType:t,offerId:l,price:a,displayName:r,usItemId:o,pageName:i,productBaconItems:c}=e;return"productPage"===i?{li:{nm:"addOnServiceToggle"},ss:{sg:n,sr:t,sp:a,ao:l,sd:r,us:o},pr:{us:c.usItemIdProduct,dp:c.priceProduct,se:{id:c.sellerId,nm:c.sellerName}}}:"cart"===i?{ta:{ss:{sg:n,sr:t,sp:a,ao:l,sd:r,us:o},mo:"addOnServices"},pg:{nm:i}}:void 0},w=e=>{let{groups:n,serviceTitle:t,serviceType:a,DetailOverlay:o,onItemSelect:c,selectedOption:s,pageName:u,isCartAccScheduling:p,productBaconItems:h,isTranche2Enabled:x}=e;const w="productPage"===u&&a===f.xq;return(0,l.jsxs)("div",{style:w?{marginLeft:"40px"}:{},className:m()("bg-washed-blue br3 ph3 pv2",{mb3:x}),children:[g({groups:n}),null===n||void 0===n?void 0:n.map(e=>{var g;const x=null===(g=e.services)||void 0===g?void 0:g.length,{CustomImageMapper:v,customProtectionPlanHeading:S}=(0,r.N)();return(0,l.jsx)("div",{"data-testid":"".concat(a,"_Group"),role:"radiogroup","aria-labelledby":"".concat(u,"-").concat(e.groupType),className:"WPP"===e.groupType&&n.length>1?"mb3":"",children:(0,l.jsxs)("div",{className:m()("inline-flex items-start",{ml3:p}),children:[w?null:(0,l.jsx)(d.Z,{src:v?v[e.groupType]:f.y8[e.groupType],alt:"".concat(e.groupType," Logo"),preload:!1,width:36,height:36,className:"mr3","aria-hidden":!0,"data-testid":"".concat(e.groupType,"_Icon")}),(0,l.jsxs)("div",{className:"box_right_side",children:[(0,l.jsx)("span",{className:"mr2 mid-gray lh-title f6 b",id:"".concat(u,"-").concat(e.groupType),children:n.length>1?"".concat(e.groupTitle):"IN_HOME_INSTALLATION"===e.groupType?"".concat(t):S||"".concat((0,i.m)(y,"heading"))}),o&&(0,l.jsx)(o,{content:e.shortDescription||"",logoImageUrl:e.assetUrl||"",title:e.groupTitle,groupType:e.groupType,serviceType:a}),1===n.length&&x>1&&"WPP"===e.groupType?(0,l.jsx)("p",{className:"ma0 f6 o-70 mr2 lh-title",children:"".concat((0,i.m)(y,"subheading"))}):null,N({services:e.services,groupType:e.groupType,serviceType:a,onItemSelect:c,selectedOption:s,pageName:u,isItemPageTireInstallation:w,productBaconItems:h})]})]})},"".concat(u,"-").concat(e.groupType))})]})},N=e=>{let{services:n,groupType:t,serviceType:a,onItemSelect:r,selectedOption:i,pageName:s,isItemPageTireInstallation:d,productBaconItems:u}=e;return null===n||void 0===n?void 0:n.map((e,n)=>{var p,y;const f={"aria-labelledby":"meta-data-".concat(n)},g=e.displayName;return(0,l.jsxs)("div",{"data-testid":e.displayName,children:[(0,l.jsx)(c.Z,{label:g,value:g,name:"".concat(s,"-").concat(a),onChange:n=>{r({offerId:e.offerId,currentPrice:e.currentPrice,groupType:t,displayName:g,usItemId:e.usItemId,checked:n.target.checked})},checked:e.offerId===i,className:m()("w-100 mt2",{ml0:!d}),onLinkName:"addOnServiceToggle",onLinkExtras:x({serviceType:a,groupType:t,price:(null===(p=e.currentPrice)||void 0===p||null===(y=p.price)||void 0===y?void 0:y.toString())||"",offerId:e.offerId,displayName:g,usItemId:e.usItemId,pageName:s,checked:e.offerId===i,productBaconItems:u}),...(e.serviceMetaData&&f)}),e.serviceMetaData&&(0,l.jsxs)("div",{id:"meta-data-".concat(n),className:"f6 gray",style:d?{marginLeft:"32px"}:{marginLeft:"62px",marginTop:"2px"},children:[(0,l.jsx)(o.VisuallyHidden,{children:e.displayName}),e.serviceMetaData]})]},e.offerId)})},v=e=>{let{serviceTitle:n,selectedSubtext:t,serviceSubTitle:l,serviceType:a}=e;return t?a===f.xq?"".concat(n," ").concat((0,i.m)(y,"selected")," ").concat(t):n+t:n+l},S=(e,n,t,a)=>{const r="productPage"===n;return e?(0,l.jsxs)("div",{className:m()("flex mb3",{"flex-column mt1":r,"justify-between ":!r}),style:r?{marginLeft:"40px"}:{marginLeft:0},children:[a&&(0,l.jsx)("div",{className:m()("ma0 f6 black lh-copy",{ml3:t}),children:a}),(0,l.jsx)("div",{id:"find-nearby-store",children:(0,l.jsx)(e,{})})]}):null},I=e=>(0,l.jsx)(s.J,{size:"medium",name:f.TC.TIRE_INSTALLATION,className:m()("mr3",{nt3:!e}),"aria-hidden":!0,"data-testid":"TIRE_INSTALLATION_Icon"}),b=e=>{const{serviceData:n,selectCallback:t,selectedServices:r,detailOverlay:o,pageName:i,isAccScheduling:c,findStoreOverlay:s}=e,{serviceType:d,serviceTitle:u,groups:y}=n,{0:g,1:h}=(0,p.useState)("".concat(d+f.OZ.VALUE)),x=d===f.xq&&Boolean(null===y||void 0===y?void 0:y[0].unavailabilityReason),N=null===y||void 0===y?void 0:y[0].unavailabilityReason,v=Boolean("cart"===i&&c),b=(0,a.e0r)(),A=(0,a.WCA)(),L=(0,a.cRU)(),E=(0,a.O3v)(),{isTranche2Enabled:j=!1}=(0,a.lZM)();(0,p.useEffect)(()=>{if(r&&(null===y||void 0===y?void 0:y.length))for(let e=0;e<y.length;e++){const n=y[e];if(r[n.groupType]){h(r[n.groupType]);break}e===y.length-1&&h("".concat(d+f.OZ.VALUE))}},[r,y]);const P={usItemIdProduct:b,sellerId:A,sellerName:L,priceProduct:E};return(0,l.jsxs)("section",{"data-testid":"".concat(d,"_SERVICE"),className:m()("protection-plan-section",{"mt3 bt b--near-white":v}),children:[d===f.xq&&"productPage"===i&&y&&I(x),x&&S(s,i,v,N),!x&&(0,l.jsx)(l.Fragment,{children:w({groups:y,serviceTitle:u,serviceType:d,DetailOverlay:o,onItemSelect:e=>{let{offerId:n,currentPrice:l,groupType:a,displayName:r,usItemId:o,checked:i}=e;const c=n.includes(f.OZ.VALUE)||!i?"":n;h(n),t({offerId:c||"",serviceType:d,currentPrice:l||null,groupType:a,displayName:r,usItemId:o})},selectedOption:g,pageName:i,isCartAccScheduling:v,productBaconItems:P,isTranche2Enabled:j})})]})};n.default=b}}]);