(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49227],{504584:function(e,n,a){"use strict";a.d(n,{a:function(){return i}});var t=a(390239),r=(a(156055),a(839442)),l=a(330921);const i=e=>{const{children:n,...a}=e;return(0,t.jsx)(l.X,{children:(0,t.jsx)(r.q,{...a,children:n})})}},839442:function(e,n,a){"use strict";a.d(n,{q:function(){return o}});var t=a(390239),r=a(916686),l=a(156055),i=a(159947);const o=e=>{const{children:n,className:a,...o}=e,s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{a11yHidden:n=!0}=e,a=l.useRef(null),t=document.body;return a.current||(a.current=document.createElement("div")),l.useEffect(()=>{if(!n)return()=>{};const e=Array.from(t.children).filter(e=>e.innerHTML&&[null,"false"].includes(e.getAttribute("aria-hidden")));return e.forEach(e=>e.setAttribute("aria-hidden","true")),()=>{e.forEach(e=>e.removeAttribute("aria-hidden"))}},[n,t]),l.useEffect(()=>(t.appendChild(a.current),()=>{a.current&&t.removeChild(a.current)}),[t,a]),a}();return i.createPortal((0,t.jsx)("div",{className:"fixed absolute--fill z-999",...o,children:(0,t.jsx)(r.FocusTrap,{children:(0,t.jsx)("div",{className:"fixed absolute--fill overflow-y-auto",children:n})})}),s.current)}},103325:function(e,n,a){"use strict";a.d(n,{O:function(){return r}});var t=a(390239);const r=()=>(0,t.jsx)("div",{className:"fixed absolute--fill bg-black-40","data-testid":"hw-overlay-scrim"})},330921:function(e,n,a){"use strict";a.d(n,{X:function(){return l}});var t=a(390239),r=a(156055);const l=e=>{const{children:n}=e,[a,l]=r.useState(!1);return r.useEffect(()=>{l(!0)},[]),a?(0,t.jsx)(t.Fragment,{children:n}):null}},482034:function(e,n,a){"use strict";a.d(n,{s:function(){return v}});var t=a(390239),r=a(303452),l=a(916686),i=a(603868),o=a(489621),s=a.n(o),c=a(156055),u=a(504584),d=a(103325),m=a(675098),p=a.n(m),y=a(227297);var f=e=>{let{onBack:n,onClose:a,title:r,titleId:l,showCloseBtn:i}=e;return(0,t.jsxs)("div",{className:"bg-secondary white pa3 pa5-m items-center flex justify-between",children:[(0,t.jsx)("button",{onClick:n,className:"white pa0 ma0 bg-transparent bn dib pointer",type:"button","aria-label":"Go Back",style:{visibility:n?"visible":"hidden"},children:(0,t.jsx)(y.J,{name:"ChevronLeft",size:"medium"})}),(0,t.jsx)("h2",{id:l,className:"ma0 f3-m f4 flex-grow-1 tc",children:r}),(0,t.jsx)("button",{onClick:a,className:"white pa0 ma0 bg-transparent bn dib pointer",type:"button","aria-label":"Close Panel",style:{visibility:i?"visible":"hidden"},children:(0,t.jsx)(y.J,{name:"Close",size:"medium"})})]})},g=a(600066);const w=e=>{for(;e&&e!==document.body;){if(null!==e.getAttribute("data-body-scroll-lock-ignore"))return!0;e=e.parentElement||document.body}return!1},v=e=>{let{actions:n,children:a,isFullHeightInner:o,isOpen:m,onBack:y,onClose:v,position:x="right",size:E="medium",title:b,isLayeredPanel:A=!1,disableClickOutside:h,disableKeyDown:L,showCloseBtn:S=!0,hidePanel:C,loader:P,innerContentClassNames:I,...N}=e;const F=(0,c.useRef)(null),V=(0,r.gP)(),[_]=(e=>{const[n,a]=c.useState(null);return c.useEffect(()=>(n?(0,g.Qp)(n,{allowTouchMove:w}):e&&document.activeElement&&(0,g.Qp)(document.activeElement.closest(".panel-content")||document.body,{allowTouchMove:w}),()=>(0,g.tP)()),[n]),[a]})(A);return(0,l.useOnClickOutside)(F,h?()=>null:v),(0,l.useOnKeyDown)(["Esc","Escape"],L?()=>null:v),m?(0,t.jsxs)(u.a,{...N,children:[(0,t.jsx)("div",{"data-body-scroll-lock-ignore":!0,className:s()(p().container,"left"===x&&p().left,"right"===x&&p().right),children:(0,t.jsxs)("div",{"aria-labelledby":V,className:s()(p().panel,"small"===E&&p().small,"medium"===E&&p().medium,"large"===E&&p().large,{dn:C}),ref:F,role:"dialog",children:[P&&(0,t.jsx)("div",{className:"absolute absolute--fill bg-white z-999 flex items-center justify-center",children:(0,t.jsx)(i.$,{color:"gray",size:"large"})}),(0,t.jsx)(f,{onBack:y,onClose:v,titleId:V,title:b,showCloseBtn:S}),(0,t.jsx)("div",{className:s()("panel-content",p().content),ref:_,children:(0,t.jsx)("div",{className:s()(p().contentInner,I,{"h-100":o}),children:a})}),n&&(0,t.jsx)("div",{className:p().actions,children:n})]})}),!A&&(0,t.jsx)(d.O,{})]}):null}},351784:function(e,n,a){"use strict";var t=a(390239),r=a(216787),l=a.n(r),i=a(156055);const o=(0,i.forwardRef)((e,n)=>{let{html:a,data:r,dataType:o,dataAdComponentType:s,dataAdDetails:c,dataAdType:u,dataTestId:d,id:m,title:p,initialHeight:y=0,classNames:f,skipSSR:g,safeframeURL:w,scrolling:v="no",sandbox:x="allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-forms allow-popups",onLoadHeight:E,allowPrivacyCookies:b,sandboxExtensions:A=[]}=e;const{height:h,name:L}=l()({initialHeight:y,html:a,id:m,data:r,dataType:o},{allowedCookies:[...(b?["sod","apo"]:[])]}),S=[...new Set([...x.split(" "),...A])].join(" ");return(0,i.useEffect)(()=>{h&&E&&E()},[h,E]),(0,t.jsx)("iframe",{id:m,"data-ad-type":u,"data-ad-component-type":s,"data-testid":d,"data-ad-details":c,className:f,height:h,name:L,title:p,sandbox:S,scrolling:v,src:w,ref:n})});n.Z=o},874155:function(e,n,a){"use strict";a.d(n,{y:function(){return ce}});var t={};a.r(t),a.d(t,{addPrescription:function(){return g},imagePreview:function(){return w},pdDescText:function(){return v},pdDownloadPrompt:function(){return x},pdIframeTitle:function(){return E},pdMeasurementHeading:function(){return b},pdMeasurementPoint1:function(){return A},pdMeasurementPoint2:function(){return h},pdMeasurementPoint3:function(){return L},pdMeasurementPoint4:function(){return S},pdModalTitle:function(){return C},pdTcConditionAppend:function(){return V},pdTcConditionFour:function(){return P},pdTcConditionOne:function(){return I},pdTcConditionThree:function(){return N},pdTcConditionTwo:function(){return F},pdTcGotItBtn:function(){return _},pdTcHeading:function(){return T},pdTcTitle:function(){return D},pfFlowPdManualEntryInfo:function(){return M},pfFlowSaveCta:function(){return j},popUpTitle:function(){return R}});var r,l=a(390239),i=a(482034),o=a(504584),s=a(575115),c=a(235077),u=a(742582),d=a(437995);!function(e){e.BACK_TRIGGERED="BACK_TRIGGERED",e.STEPS_LENGTH="STEPS_LENGTH",e.DONE_ADD_PRESCRIPTION="DONE_ADD_PRESCRIPTION",e.IMAGE_PREVIEW="IMAGE_PREVIEW",e.START_PD_MODAL="START_PD_MODAL",e.PD_RESULTS="PD_RESULTS",e.TERMS_AND_CONDITIONS_PANEL="TERMS_AND_CONDITIONS_PANEL",e.PD_MANUAL_ENTRY_INFO_MODAL="PD_MANUAL_ENTRY_INFO_MODAL",e.USE_MANUAL_PD_ENTRY="USE_MANUAL_PD_ENTRY",e.RX_UPLOAD_LOADING="RX_UPLOAD_LOADING",e.RX_UPLOAD_ERROR="RX_UPLOAD_ERROR",e.FORCE_STEP_CHANGE="FORCE_STEP_CHANGE",e.CLOSE_RX_INTAKE="CLOSE_RX_INTAKE",e.RESUBMIT_RX_MUTATION="RESUBMIT_RX_MUTATION",e.IS_MOBILE="IS_MOBILE"}(r||(r={}));var m=a(26474),p=a(156055);const y=e=>{switch(e){case"SELECT_USER":case"CREATE_USER":return"selectPerson";case"INPUT_DOB":return"confirmDob";case"ADD_PRESCRIPTION":return"rxPhoto";case"PD_ENTRY":case"PD_MANUAL_ENTRY":case"PD_CONFIRMATION":case"PD_MANUAL_CCM_DOWN":return"addPD";default:return e;}};var f=a(985115);const g=()=>"Add a prescription",w=()=>"Image Preview",v=()=>"The PD measurement is the distance measured between your pupils. If your PD is not accurate, your eyes won't be able to focus when wearing glasses & you may experience blurred vision, eye strain & headaches.",x=()=>"Don't have ruler? You can download one here!",E=()=>"Pupillary distance facial scan iFrame",b=()=>"How to measure your Pupillary Distance (PD):",A=()=>"Grab a ruler & have a pencil & paper handy.",h=()=>"Position yourself 8 inches (20 cm) away from a mirror.",L=()=>"Close your left eye and align the \"0\" on the ruler over the center of your right pupil.",S=()=>"The number that lines up directly over your left pupil in mm is your PD (an average PD for an adult ranges between 58 and 65).",C=()=>"Measuring PD",P=e=>p.createElement(p.Fragment,[],"These measurements will be processed by Walmart, Sam's Club, and their authorized service-provider in accordance with the Walmart ",function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;return(e&&"object"===typeof e?e.fmt:a)(n)}(e.link,f.Ys((e=>e&&"object"===typeof e&&"val"in e?e.val:e)(e.link),{other:"Notice of Privacy Practices"}))),I=()=>"You are at least 18 years old.",N=()=>"Any data collected or stored will be deleted within 48 hours.",F=()=>"This app uses facial scanning technology to collect and process your biometric information to measure your unique facial features.",V=e=>p.createElement(p.Fragment,[]," and ",function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;return(e&&"object"===typeof e?e.fmt:a)(n)}(e.link,f.Ys((e=>e&&"object"===typeof e&&"val"in e?e.val:e)(e.link),{other:"Privacy Notice"})),"."),_=()=>"Got it",T=()=>"By tapping \"I agree\", you expressly acknowledge the following:",D=()=>"Virtual services terms & conditions",M=()=>"Additional information on pupillary distance",j=()=>"Save",R=()=>"Pupillary distance";var k,O=a(351784),U=a(969502),z=a(508994);!function(e){e.SELECT_USER="SELECT_USER",e.INPUT_DOB="INPUT_DOB",e.CREATE_USER="CREATE_USER",e.ADD_PRESCRIPTION="ADD_PRESCRIPTION",e.PD_ENTRY="PD_ENTRY",e.PD_CONFIRMATION="PD_CONFIRMATION",e.PD_MANUAL_ENTRY="PD_MANUAL_ENTRY",e.UNKNOWN="UNKNOWN"}(k||(k={}));const W=e=>{let{forceStepChange:n,resubmitRxMutation:a}=e;var t;const o=(0,U.M)(600),{0:s,1:c}=(0,p.useState)(!1),{0:u,1:d}=(0,p.useState)(),y=9===(null===u||void 0===u||null===(t=u.extensions)||void 0===t?void 0:t.errorCode);(0,p.useEffect)(()=>{const e=e=>{e.data.type===r.RX_UPLOAD_ERROR&&(c(!0),d(e.data.value.error))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);const f=()=>{c(!1)},g=()=>{y?n(k.CREATE_USER):a(),f()},w=()=>(0,l.jsx)("div",{className:"flex flex-column items-center p-4 tc vh-100",children:(0,l.jsx)(m.m,{textVariant:y?"errorCode9":"rxUploadError",imgVariant:y?"networkError":"resourceItemsError",onClickButtonHandler:g,onClickRedirectHandler:f})});return(0,l.jsxs)("div",{"data-testid":"rx-upload-error-dialog",children:[s&&o&&(0,l.jsx)(z.Z,{desktopComponent:"bottomsheet",mobileComponent:"bottomsheet",isOpen:s,onClose:f,size:"small",title:"",a11yLabel:"Error Uploading Prescription",UNSAFE_style:{zIndex:1e3},children:(0,l.jsx)(w,{})}),s&&!o&&(0,l.jsx)(i.s,{isOpen:s,onBack:f,title:"",isLayeredPanel:!0,showCloseBtn:!0,onClose:f,children:(0,l.jsx)(w,{})})]})};var G=a(916686);const q=e=>{let{isMobile:n}=e;return(0,l.jsxs)("div",{"data-testid":"hw-loading-state",className:"flex flex-column justify-between h-100 ".concat(n?"ph3":"ph4"),children:[(0,l.jsxs)("div",{className:"flex-column",children:[(0,l.jsx)(G.Skeleton,{UNSAFE_className:"mb4 br3",height:"30px",width:"194px",variant:"rounded"}),(0,l.jsx)(G.Skeleton,{UNSAFE_className:"mb3 br3",height:"100px",variant:"rounded"}),(0,l.jsx)(G.SkeletonText,{UNSAFE_className:"mb4",lines:1}),(0,l.jsx)(G.Skeleton,{UNSAFE_className:"mb4 br2",height:"100px",variant:"rounded"})]}),(0,l.jsx)("div",{children:(0,l.jsx)(G.Skeleton,{UNSAFE_className:"br4",height:"50px",variant:"rounded"})})]})},B={tempTitle:()=>"Prescription Intake"},X=e=>{let{backTriggerId:n,pdPayload:a,errorPayload:t}=e;const i=(0,p.useRef)(null),o=(0,U.M)(600),{0:c,1:u}=(0,p.useState)(!1);(0,p.useEffect)(()=>{const e=()=>u(!0),n=i.current;return null===n||void 0===n||n.addEventListener("load",e),()=>{null===n||void 0===n||n.removeEventListener("load",e)}},[i]),(0,p.useEffect)(()=>{var e,n;null===i||void 0===i||null===(e=i.current)||void 0===e||null===(n=e.contentWindow)||void 0===n||n.postMessage({action:r.BACK_TRIGGERED},"*")},[n]),(0,p.useEffect)(()=>{var e,n;null===i||void 0===i||null===(e=i.current)||void 0===e||null===(n=e.contentWindow)||void 0===n||n.postMessage({action:r.IS_MOBILE,isMobile:o},"*")}),(0,p.useEffect)(()=>{var e,n;null===i||void 0===i||null===(e=i.current)||void 0===e||null===(n=e.contentWindow)||void 0===n||n.postMessage(a,"*")},[a]),(0,p.useEffect)(()=>{var e,n;null===i||void 0===i||null===(e=i.current)||void 0===e||null===(n=e.contentWindow)||void 0===n||n.postMessage(t,"*")},[t]);const d=(m=i,e=>{var n,a;null===m||void 0===m||null===(n=m.current)||void 0===n||null===(a=n.contentWindow)||void 0===a||a.postMessage({action:r.FORCE_STEP_CHANGE,value:e},"*")});var m;const y=(e=>()=>{var n,a;null===e||void 0===e||null===(n=e.current)||void 0===n||null===(a=n.contentWindow)||void 0===a||a.postMessage({action:r.RESUBMIT_RX_MUTATION},"*")})(i);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"h-100 flex flex-column ".concat(o?"nr3 nl3 pt2":"nr4 nl4"),"data-qm-mask":!0,children:[!c&&(0,l.jsx)(q,{isMobile:o}),(0,l.jsx)(O.Z,{id:"rx-flow-safe-frame",html:"",title:(0,s.m)(B,"tempTitle"),safeframeURL:"/health-and-wellness/vision/rx-intake",classNames:"w-100 h-100 bn ".concat(c?"db":"dn"),ref:i})]}),(0,l.jsx)(W,{forceStepChange:d,resubmitRxMutation:y})]})};var H=a(227297),Y=a(803528);const Z=e=>{let{setHidePanel:n}=e;const a=(0,U.M)(600),{0:i,1:c}=(0,p.useState)(!1),{0:u,1:d}=(0,p.useState)("");(0,p.useEffect)(()=>{const e=e=>{e.data.type===r.IMAGE_PREVIEW&&(n(!0),c(!0),d(e.data.base64PhotoUrl))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[n]);return i?(0,l.jsx)(o.a,{children:(0,l.jsxs)("div",{className:"fixed h-100 w-100 ".concat(a&&"bg-mid-gray"),children:[(0,l.jsx)("div",{className:"absolute right-1 top-1",children:(0,l.jsx)(G.IconButton,{UNSAFE_className:"bg-white",a11yLabel:"Close",size:"large",onClick:()=>{c(!1),n(!1)},children:(0,l.jsx)(H.J,{name:"Close"})})}),(0,l.jsx)(Y.Z,{style:{objectFit:"contain",objectPosition:"center"},src:u,alt:(0,s.m)(t,"imagePreview"),preload:!1,width:"100%",height:"100%"})]})}):null};var K=a(605276);const J=[(0,s.m)(t,"pdMeasurementPoint1"),(0,s.m)(t,"pdMeasurementPoint2"),(0,s.m)(t,"pdMeasurementPoint3"),(0,s.m)(t,"pdMeasurementPoint4")],Q=()=>(0,l.jsxs)("div",{className:"flex flex-column w-100",children:[(0,l.jsx)("p",{className:"fw4 f6 mt0 mb3 dark-gray",children:(0,s.m)(t,"pdDescText")}),(0,l.jsx)("div",{className:"flex justify-center items-center br3 bg-near-white-blue",children:(0,l.jsx)(Y.Z,{src:"//i5.walmartimages.com/dfw/63fd9f59-2e9b/ea7fba8a-59cf-4596-909f-ee53e6157406/v1/vision-PD-distance-plus-text.svg",alt:"",preload:!1,height:"146px",width:"auto"})}),(0,l.jsx)("h3",{className:"f6 mt3 mb0 b",children:(0,s.m)(t,"pdMeasurementHeading")}),(0,l.jsx)("ul",{className:"fw4 mt0 f6 nl3 dark-gray",children:J.map((e,n)=>(0,l.jsx)("li",{children:e},n))})]}),$=(0,s.m)(t,"popUpTitle"),ee=()=>{const e=(0,U.M)(600),{0:n,1:a}=(0,p.useState)(!1),o=(0,c.wG)();(0,p.useEffect)(()=>{const e=e=>{e.data.type===r.PD_MANUAL_ENTRY_INFO_MODAL&&a(!0)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]),(0,p.useEffect)(()=>{n?(0,d.n5)(y(k.ADD_PRESCRIPTION),o,{co:{pda:0,des:"capture if photo has already been added"},ta:{pt:d.c8,ty:"pupillaryDistance"}}):n||(0,d.fE)(y(k.ADD_PRESCRIPTION),o,"gotIt",{ta:{pt:d.c8,ty:"pupillaryDistance"}})},[o,n]);const u=()=>{a(!1)};return e?(0,l.jsx)(K.Z,{children:(0,l.jsx)(z.Z,{desktopComponent:"bottomsheet",mobileComponent:"bottomsheet",isOpen:n,onClose:u,title:$,size:"small","aria-label":(0,s.m)(t,"pfFlowPdManualEntryInfo"),UNSAFE_style:{zIndex:1e3},actions:(0,l.jsx)(G.Button,{variant:"primary",size:"medium",isFullWidth:!0,onClick:u,children:(0,s.m)(t,"pdTcGotItBtn")}),children:(0,l.jsx)(Q,{})})}):(0,l.jsx)(i.s,{isOpen:n,onClose:u,onBack:u,showCloseBtn:!1,title:$,"aria-label":(0,s.m)(t,"pfFlowPdManualEntryInfo"),actions:(0,l.jsx)("div",{className:"flex flex-column flex-auto pa2",children:(0,l.jsx)(G.Button,{variant:"primary",size:"medium",isFullWidth:!0,onClick:u,children:(0,s.m)(t,"pdTcGotItBtn")})}),children:(0,l.jsx)(Q,{})})};var ne;!function(e){e.PD_SCAN_SUCCESS="pdScanSuccess",e.CLOSE_MODAL="closeButtonEvent",e.CAMERA_DENIED="cameraDenied",e.CAMERA_ERROR="cameraError",e.CAMERA_CONNECTED="cameraConnected",e.PD_SCAN_MANUAL="pdScanManual",e.IFRAME_CONNECTED="iframeConnected",e.IFRAME_ERROR="iframeError",e.WEBVIEW_CONNECTED="webViewConnected"}(ne||(ne={}));var ae=a(961866);const te=e=>{let{seed:n}=e;var a,r;const i="production"===((null===(a=(0,ae.B)())||void 0===a||null===(r=a.publicRuntimeConfig)||void 0===r?void 0:r.profile)||"stage"),o=(0,U.M)(600),c=i?"https://mmwmpdscanoprod.z19.web.core.windows.net/":"https://mmwmpdscandev.z19.web.core.windows.net/test/",[u]=(0,G.useLockBodyScroll)();return(0,l.jsx)("div",{className:"flex-auto overflow-hidden ma0 mb4-m mh4-m mn-m",style:{height:o?"100%":"543px"},ref:u,children:(0,l.jsx)("iframe",{id:"pd-scan-safe-frame",title:(0,s.m)(t,"pdIframeTitle"),src:c,className:"w-100 h-100 bn",allow:"camera"})},n)},re=e=>{let{setHidePanel:n,setPdPayload:a,setErrorPayload:i}=e;const{0:c,1:d}=(0,p.useState)(!1),{0:y,1:f}=(0,p.useState)(1),{0:g,1:w}=(0,p.useState)(!1),{0:v,1:x}=(0,p.useState)(!1),E=(0,p.useRef)(-1),b=(0,p.useCallback)(()=>{d(!1),n(!1)},[d,n]);(0,p.useEffect)(()=>(c&&(w(!1),E.current=window.setTimeout(()=>w(!0),1e4)),()=>window.clearTimeout(E.current)),[c,w,v]),(0,p.useEffect)(()=>{const e=e=>{let t=e.data;if("string"===typeof t&&(t=JSON.parse(e.data)),t.type===r.START_PD_MODAL)n(!0),d(!0);switch(t.event){case ne.IFRAME_CONNECTED:case ne.WEBVIEW_CONNECTED:case ne.CAMERA_CONNECTED:window.clearTimeout(E.current);break;case ne.PD_SCAN_SUCCESS:window.clearTimeout(E.current),l=t.data,d(!1),n(!1),a({action:r.PD_RESULTS,pdResults:l});break;case ne.CLOSE_MODAL:window.clearTimeout(E.current),b();break;case ne.IFRAME_ERROR:case ne.CAMERA_ERROR:case ne.CAMERA_DENIED:case ne.PD_SCAN_MANUAL:window.clearTimeout(E.current),(e=>{d(!1),n(!1),i({action:r.USE_MANUAL_PD_ENTRY,error:e})})(t.event);}var l};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[n,b,i,a]);const A=()=>{f(Math.random())},h=()=>{d(!1),n(!1),i({action:r.USE_MANUAL_PD_ENTRY,error:"errorBoundary"})};return c?(0,l.jsx)(o.a,{children:(0,l.jsx)("div",{className:"flex items-center justify-center h-100 w-100 pa0 pa3-m pa5-l pa7-xl",children:(0,l.jsxs)("div",{"aria-label":"PD measuring",className:"flex bg-white br4-m br0 border-box flex-column w-100 h-100 h-auto-m z-999",style:{maxWidth:"50rem",boxShadow:"0 5px 10px 3px rgba(0, 0, 0, 0.15)",flexShrink:1,maxHeight:"100%"},children:[(0,l.jsx)("div",{className:"dn db-m",children:(0,l.jsxs)("div",{className:"flex items-center flex-row-reverse justify-between pa4",children:[(0,l.jsx)("button",{"aria-label":"Close modal",className:"b--none pointer black ma0 pa0",style:{background:"transparent"},type:"button",onClick:b,children:(0,l.jsx)(H.J,{"aria-hidden":"true",name:"Close",size:"medium"})}),(0,l.jsx)("h2",{className:"f3 ma0",children:(0,s.m)(t,"pdModalTitle")})]})}),(0,l.jsx)(u.Z,{FallbackComponent:()=>(0,l.jsx)(m.m,{onClickButtonHandler:A,onClickRedirectHandler:h,textVariant:"pdGenericError",imgVariant:"resourceItemsError"}),scope:"vision-center",children:g?(0,l.jsx)(m.m,{onClickButtonHandler:()=>{x(!0),w(!1),d(!0),n(!0)},onClickRedirectHandler:h,textVariant:"pdGenericError",imgVariant:"resourceItemsError"}):(0,l.jsx)(te,{seed:y})})]})})}):null};var le=a(420236),ie=a(29695);const oe=()=>(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mt0 dark-gray",children:(0,s.m)(t,"pdTcHeading")}),(0,l.jsxs)("ul",{className:"pl4 dark-gray",children:[(0,l.jsx)("li",{children:(0,s.m)(t,"pdTcConditionOne")}),(0,l.jsx)("li",{children:(0,s.m)(t,"pdTcConditionTwo")}),(0,l.jsx)("li",{children:(0,s.m)(t,"pdTcConditionThree")}),(0,l.jsxs)("li",{children:[(0,s.m)(t,"pdTcConditionFour",{link:{fmt:e=>(0,l.jsx)(ie.ZP,{className:"black",target:"_blank",href:"https://corporate.walmart.com/privacy-security/notices/",onLinkName:"Notice of Privacy Practices",children:e})}}),(0,s.m)(t,"pdTcConditionAppend",{link:{fmt:e=>(0,l.jsx)(ie.ZP,{className:"black",target:"_blank",href:"https://corporate.walmart.com/privacy-security/walmart-privacy-notice",onLinkName:"Privacy Notice",children:e})}})]})]})]}),se=()=>{const e=(0,U.M)(600),{0:n,1:a}=(0,p.useState)(!1);(0,p.useEffect)(()=>{const e=e=>{e.data.type===r.TERMS_AND_CONDITIONS_PANEL&&a(!0)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);const o=()=>{a(!1)};return(0,l.jsxs)(l.Fragment,{children:[n&&e&&(0,l.jsx)(z.Z,{desktopComponent:"bottomsheet",mobileComponent:"bottomsheet",isOpen:n,onClose:o,size:"small",title:(0,l.jsx)("h2",{className:"ph2 f4 ma0",children:(0,s.m)(t,"pdTcTitle")}),UNSAFE_style:{zIndex:1e3},children:(0,l.jsx)(le.T,{onClickHandler:o,buttonLabel:(0,s.m)(t,"pdTcGotItBtn"),children:(0,l.jsx)(oe,{})})}),n&&!e&&(0,l.jsx)(i.s,{isOpen:n,onBack:o,title:(0,l.jsx)("div",{className:"ph6 mh3 lh-copy pv0 nt3 nb3",children:(0,s.m)(t,"pdTcTitle")}),actions:(0,l.jsx)(G.Button,{UNSAFE_className:"mv2 mh2 f5",UNSAFE_style:{paddingTop:"20px",paddingBottom:"20px"},variant:"primary",isFullWidth:!0,onClick:o,children:(0,s.m)(t,"pdTcGotItBtn")}),isLayeredPanel:!1,showCloseBtn:!0,onClose:o,children:(0,l.jsx)(oe,{})})]})},ce=e=>{let{isOpen:n,onClose:a,lineItemId:f,onDone:g,isLayeredPanel:w}=e;const{0:v,1:x}=(0,p.useState)(""),{0:E,1:b}=(0,p.useState)(!1),{0:A,1:h}=(0,p.useState)(!1),{0:L,1:S}=(0,p.useState)(!1),{0:C,1:P}=(0,p.useState)({action:"",pdResults:{pdLeft:"",pdRight:"",pdTotal:""}}),{0:I,1:N}=(0,p.useState)({action:"",error:""}),{0:F,1:V}=(0,p.useState)(""),{0:_,1:T}=(0,p.useState)(0),{0:D,1:M}=(0,p.useState)(1),j=(0,c.wG)(),R=(0,p.useCallback)(()=>{a(),(0,d.fE)(y(F),j,"close")},[F,a,j]);(0,p.useEffect)(()=>{const e=e=>{switch(e.data.type){case r.STEPS_LENGTH:V(e.data.step),T(e.data.value);break;case r.RX_UPLOAD_LOADING:if(e.data.value){const{isLoading:n}=e.data.value;S(n)}break;case r.DONE_ADD_PRESCRIPTION:e.data.value&&g(e.data.value,f);break;case r.CLOSE_RX_INTAKE:R();}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[g,f,R]);const k=()=>{M(Math.random())};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i.s,{isOpen:n,onClose:R,title:(0,s.m)(t,"addPrescription"),isFullHeightInner:!0,onBack:_<2?R:()=>{x((Math.random()+1).toString(36).substring(7)),(0,d.fE)(y(F),j,"back")},disableClickOutside:!0,disableKeyDown:!0,isLayeredPanel:w,hidePanel:A,children:[L&&(0,l.jsx)(o.a,{}),(0,l.jsx)(u.Z,{FallbackComponent:()=>(0,l.jsx)(m.m,{onClickButtonHandler:k,onClickRedirectHandler:R,textVariant:"glassTechnicalError",imgVariant:"resourceItemsError"}),scope:"vision-center",children:(0,l.jsx)(X,{backTriggerId:v,lineItemId:f,pdPayload:C,errorPayload:I},D)})]}),(0,l.jsx)(Z,{setHidePanel:h}),(0,l.jsx)(re,{setHidePanel:h,setPdPayload:P,setErrorPayload:N}),(0,l.jsx)(se,{}),(0,l.jsx)(ee,{})]})}},420236:function(e,n,a){"use strict";a.d(n,{T:function(){return l}});var t=a(390239),r=a(916686);const l=e=>{let{onClickHandler:n,buttonLabel:a,children:l}=e;return(0,t.jsxs)("div",{className:"pb7",children:[l,(0,t.jsx)("div",{className:"flex flex-column fixed left-0 bottom-0 right-0 bg-white mt6 pa3 bt b--lighter-gray shadow-1",children:(0,t.jsx)(r.Button,{size:"medium",variant:"primary",isFullWidth:!0,onClick:n,"aria-label":a,children:a})})]})}},26474:function(e,n,a){"use strict";a.d(n,{m:function(){return L}});var t={};a.r(t),a.d(t,{ebGenericMessage:function(){return s},ebGenericPrimaryCta:function(){return c},ebGenericTitle:function(){return u},ebTechMessage:function(){return d},ebTechPdSecondaryCta:function(){return m},ebTechPrimaryCta:function(){return p},ebTechSecondaryCta:function(){return y},ebTechTitle:function(){return f},errorMessageCloseLabel:function(){return g},errorMessageFeature:function(){return w},errorMsgFeatureBtnLabel:function(){return v},pfFlowError9Cta:function(){return x},pfFlowError9Subtitle:function(){return E},pfFlowError9Title:function(){return b}});var r=a(390239),l=a(916686),i=a(575115),o=a(803528);const s=()=>"We're having technical issues.  Please go back and try again",c=()=>"Go back",u=()=>"We're sorry",d=()=>"We're having technical issues, but we'll be back in a flash",m=()=>"Enter PD manually instead",p=()=>"Try again",y=()=>"Return to home",f=()=>"Something isn't working",g=()=>"Close",w=()=>"You'll be able to use this feature when everything is fixed.",v=()=>"Go to Homepage",x=()=>"Create new profile",E=()=>"Try creating a new profile",b=()=>"We're having trouble finding your information",A={resourceItemsError:{imgUrl:"https://i5.walmartimages.com/dfw/63fd9f59-d90e/10fdc886-502e-4feb-a1ca-c4834f9cbe02/v1/error-generic-dinosaur.svg"},featureTechnicalError:{imgUrl:"https://i5.walmartimages.com/dfwrs/76316474-38ee/k2-_5479265d-3269-4951-a14f-c1323f89ae7e.v1.png"},genericError:{imgUrl:"https://i5.walmartimages.com/dfw/63fd9f59-d90e/10fdc886-502e-4feb-a1ca-c4834f9cbe02/v1/error-generic-truck.svg"},networkError:{imgUrl:"https://i5.walmartimages.com/dfw/63fd9f59-d90e/10fdc886-502e-4feb-a1ca-c4834f9cbe02/v1/error-generic-cat.svg"}},h={glassTechnicalError:{message:(0,i.m)(t,"ebTechMessage"),title:(0,i.m)(t,"ebTechTitle"),redirectLabel:(0,i.m)(t,"ebTechSecondaryCta"),buttonLabel:(0,i.m)(t,"ebTechPrimaryCta")},techFeatureError:{message:(0,i.m)(t,"errorMessageFeature"),title:(0,i.m)(t,"ebTechTitle"),redirectLabel:null,buttonLabel:(0,i.m)(t,"errorMsgFeatureBtnLabel")},pdGenericError:{message:(0,i.m)(t,"ebTechMessage"),title:(0,i.m)(t,"ebTechTitle"),redirectLabel:(0,i.m)(t,"ebTechPdSecondaryCta"),buttonLabel:(0,i.m)(t,"ebTechPrimaryCta")},genericErrorNoRedirect:{message:(0,i.m)(t,"ebGenericMessage"),title:(0,i.m)(t,"ebGenericTitle"),redirectLabel:null,buttonLabel:(0,i.m)(t,"ebGenericPrimaryCta")},closeGenericError:{message:(0,i.m)(t,"ebTechMessage"),title:(0,i.m)(t,"ebGenericTitle"),redirectLabel:(0,i.m)(t,"errorMessageCloseLabel"),buttonLabel:(0,i.m)(t,"ebTechPrimaryCta")},errorCode9:{message:(0,i.m)(t,"pfFlowError9Subtitle"),title:(0,i.m)(t,"pfFlowError9Title"),redirectLabel:null,buttonLabel:(0,i.m)(t,"pfFlowError9Cta")},rxUploadError:{message:(0,i.m)(t,"ebTechMessage"),title:null,redirectLabel:(0,i.m)(t,"errorMessageCloseLabel"),buttonLabel:(0,i.m)(t,"ebTechPrimaryCta")}},L=e=>{let{onClickButtonHandler:n,onClickRedirectHandler:a,textVariant:t,imgVariant:i}=e;return(0,r.jsxs)("div",{"data-testid":"hw-error-state",className:"flex flex-column justify-center h-100",children:[(0,r.jsx)(l.ErrorMessage,{actions:(0,r.jsx)(l.Button,{onClick:n,size:"medium",variant:"primary",children:h[t].buttonLabel}),media:(0,r.jsx)(o.Z,{alt:h[t].message,preload:!1,height:"100%",src:A[i].imgUrl,width:"auto"}),title:h[t].title,children:h[t].message}),h[t].redirectLabel?(0,r.jsx)(l.Button,{onClick:a,UNSAFE_className:"mh0 mv3",size:"small",variant:"tertiary",children:h[t].redirectLabel}):""]})}},437995:function(e,n,a){"use strict";a.d(n,{E3:function(){return r},J8:function(){return t},c8:function(){return l},fE:function(){return i},fR:function(){return s},n5:function(){return o},pb:function(){return c}});const t="visionCenter",r="selectLenses",l="addPrescription",i=(e,n,a,r)=>{const i=(e=>{let{pageType:n,linkName:a,props:r}=e;return{context:t,action:"onClick",name:l,payload:{pg:{nm:l},ta:{pt:l,ty:n},nm:{nm:a},li:{nm:a},...r}}})({pageType:e,linkName:a,props:r});return n(i)},o=(e,n,a)=>{const r=(e=>{let{pageType:n,props:a}=e;return{context:t,action:"pageView",name:l,payload:{pg:{nm:l},ta:{pt:l,ty:n},...a}}})({pageType:e,props:a});n(r)},s=(e,n,a,l)=>{const i=(e=>{let{actionType:n,pageType:a,props:l}=e;return{context:t,action:"onClick",name:r,payload:{pg:{nm:r},li:{nm:n},nm:{nm:n},ta:{pt:r,ty:a},...l}}})({actionType:a,pageType:e,props:l});return n(i)},c=(e,n,a)=>{const l=(e=>{let{pageType:n,props:a}=e;return{context:t,action:"pageView",name:r,payload:{pg:{nm:r},ta:{pt:r,ty:n},...a}}})({pageType:e,props:a});n(l)}},675098:function(e){e.exports={container:"w_1KUy",right:"w_4QOY",left:"w_iP5N",panel:"w_cPQ3",small:"w_0sg8",medium:"w_LbzQ",large:"w_EVPw",title:"w_Rre0",content:"w_5z3b",contentInner:"w_lao1",actions:"w_kdUD"}}}]);