"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69797],{139547:function(e,n,t){t.r(n),t.d(n,{a:function(){return i},add:function(){return o},addProtectionPlan:function(){return u},appleCare:function(){return p},noSelection:function(){return r},onlyOneOptionAtATime:function(){return d},payAtStoreText:function(){return m},pickOnly:function(){return a},selected:function(){return s},shortTextnoSelection:function(){return c}});var l=t(985115);const a=()=>"(Pick up only)",r=e=>l.Ys(e.noSelectionText,{protection:"I don't need protection at this time",help:"I don't need help",acc:"I don't need installation",other:"I don't need"}),o=()=>"Add",i=()=>"a",s=()=>"selected,",c=e=>l.Ys(e.noSelectionText,{protection:"No plan",help:"No help",other:"No"}),d=()=>"(Only one option can be selected at a time.)",u=()=>"Add a protection plan",m=()=>"Pay at store",p=()=>"AppleCare Logo"},19002:function(e,n,t){var l=t(390239),a=t(560241),r=t(256727),o=t(916686),i=t(158529),s=t(575115),c=t(107401),d=t(235077),u=t(623122),m=t.n(u),p=t(156055),y=t(139547),f=t(216123),g=t(468265);const w=m()(()=>t.e(30890).then(t.bind(t,535689)),{loadableGenerated:{webpack:()=>[535689]},loading:()=>(0,l.jsx)("div",{className:"w-100",children:(0,l.jsx)(o.Skeleton,{height:"100px"})})}),x=m()(()=>Promise.all([t.e(30890),t.e(94259)]).then(t.bind(t,854773)),{loadableGenerated:{webpack:()=>[854773]},ssr:!1}),h=m()(()=>Promise.all([t.e(30890),t.e(13563)]).then(t.bind(t,199987)).then(e=>e.AddOnServicesCheckBox),{loadableGenerated:{webpack:()=>[199987]},loading:()=>(0,l.jsx)("div",{className:"w-100",children:(0,l.jsx)(o.Skeleton,{height:"140px"})}),ssr:!1}),v=e=>{const n=[];return e.forEach(e=>{var t;null===(t=e.groups)||void 0===t||t.forEach(t=>{var l;null===(l=t.services)||void 0===l||l.forEach(l=>{var a;const r={sg:e.serviceType,sr:t.groupType,sp:"".concat((null===(a=l.currentPrice)||void 0===a?void 0:a.price)||0),ao:l.offerId,us:l.usItemId};"TIRE_INSTALLATION"===t.groupType&&(r.sd=l.displayName),n.push(r)})})}),n};n.ZP=e=>{let{servicesList:n,selectedServices:t,selectCallback:o,detailOverlay:u,pageName:m,autoExpanded:S,expandFirstService:b,isAccScheduling:N,findStoreOverlay:A,addOnServiceRef:L,updateAdOnServiceRef:I,enableAOSVariantOnCart:E,shouldRenderCheckbox:P,productName:O,enableFitmentV2:V=!1,disableAccPayAtStoreMsg:C=!1,enableMWebRedesignPhase2:j=!1}=e;var F,k,T,M,_,U;const R=null===(F=(0,i.iC)(a.Tg).cart.values)||void 0===F?void 0:F.enableFPCEAosVariant,G=(0,p.useMemo)(()=>(e=>(null===e||void 0===e?void 0:e.length)?e.reduce((e,n)=>(e[n.groupType]=n.offerId,e),{}):{})(t),[t]),W=(0,d.wG)(),J=(0,p.useRef)(null),X=Boolean(null===n||void 0===n||null===(k=n[0])||void 0===k||null===(T=k.groups)||void 0===T||null===(M=T[0])||void 0===M?void 0:M.unavailabilityReason),z=(0,p.useCallback)(e=>{if((0,r.Q)()){const n=J.current;n&&!e?window.cancelAnimationFrame(n):!n&&e&&(J.current=window.requestAnimationFrame(()=>{I&&I(e)}))}},[I]),{isMobile:q}=(0,c.vP)();(0,p.useEffect)(()=>{W({context:m,action:"moduleView",name:"addOnServices",payload:{ta:{as:v(n),nm:"addOnServices",ty:"external"},pg:{nm:m},...(X&&{ms:{mx:"Tire installation is not available at your store. Select an ACC Store"}})}})},[]);const D=n.find(e=>"CAREPLAN"===e.serviceType),B=null===D||void 0===D||null===(_=D.groups)||void 0===_?void 0:_.find(e=>"WPP"===e.groupType),Q=null===D||void 0===D||null===(U=D.groups)||void 0===U?void 0:U.find(e=>"APPLE_CARE"===e.groupType),Y=!(!E||1!==R&&3!==R&&4!==R||!B||!Q),Z=(e,n)=>{const t=2===R;return 1===R||3===R||P||4===R?(0,l.jsx)(h,{serviceData:e,selectCallback:o,selectedServices:G,detailOverlay:u,pageName:m,isAccScheduling:N,findStoreOverlay:A,isLastService:n,productName:O||"",enableOneOptionMessageForCarePlan:!Y,enableFitmentV2:V,disableAccPayAtStoreMsg:C,enableMWebRedesignPhase2:j}):t?(0,l.jsx)(x,{serviceData:e,selectCallback:o,selectedServices:G,detailOverlay:u,pageName:m,productName:O||"",autoExpanded:e.serviceType!==f.xq,isAccScheduling:N,findStoreOverlay:A,disableAccPayAtStoreMsg:C}):null};return(0,l.jsxs)(p.Fragment,{children:[Y&&(0,l.jsxs)(p.Fragment,{children:[(0,l.jsx)("p",{className:"b ma0 f6",style:q?{}:{marginLeft:"6.5rem"},children:(0,s.m)(y,"addProtectionPlan")}),(0,l.jsx)(g.L,{className:"ma0 mb2 f7",marginLeftOverride:!0,dataTestId:"multiPPOnlyOneOptMsg"})]}),n.map((e,t)=>{const a=t===n.length-1,r=S||(0===t?b:S);return(0,l.jsxs)(p.Fragment,{children:[(i=e.serviceType,E&&R||i===f.xq&&P?Z(e,a):(0,l.jsx)(w,{serviceData:e,selectCallback:o,selectedServices:G,detailOverlay:u,pageName:m,autoExpanded:r,isAccScheduling:N,findStoreOverlay:A,productName:O,disableAccPayAtStoreMsg:C})),"middle"===L&&0===t&&(0,l.jsx)("span",{ref:z})]},e.serviceType);var i})]})}},468265:function(e,n,t){t.d(n,{L:function(){return i}});var l=t(390239),a=t(575115),r=t(107401),o=t(139547);const i=e=>{let{className:n,marginLeftOverride:t,dataTestId:i}=e;const{isMobile:s}=(0,r.vP)();return(0,l.jsx)("p",{className:n,style:!s&&t?{marginLeft:"6.5rem"}:{},"data-testid":i,children:(0,a.m)(o,"onlyOneOptionAtATime")})}}}]);